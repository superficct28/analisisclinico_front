"use strict";(self.webpackChunkalert_school=self.webpackChunkalert_school||[]).push([[304],{304:(re,k,a)=>{a.r(k),a.d(k,{AuthModule:()=>ee});var h=a(177),g=a(8498),i=a(9417),e=a(7705),E=a(3767),b=a(8834),p=a(882),C=a(9631);function R(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"El email es requerido."),e.k0s())}function j(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"El email no es v\xe1lido."),e.k0s())}function I(r,l){if(1&r&&(e.j41(0,"mat-error"),e.DNE(1,R,2,0,"span",4),e.DNE(2,j,2,0,"span",4),e.k0s()),2&r){const o=e.XpG();let t,n;e.R7$(1),e.Y8G("ngIf",null==(t=o.loginForm.get("email"))||null==t.errors?null:t.errors.required),e.R7$(1),e.Y8G("ngIf",null==(n=o.loginForm.get("email"))||null==n.errors?null:n.errors.email)}}function G(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"La contrase\xf1a es requerida."),e.k0s())}function P(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"La contrase\xf1a debe tener al menos 6 caracteres."),e.k0s())}function T(r,l){if(1&r&&(e.j41(0,"mat-error"),e.DNE(1,G,2,0,"span",4),e.DNE(2,P,2,0,"span",4),e.k0s()),2&r){const o=e.XpG();let t,n;e.R7$(1),e.Y8G("ngIf",null==(t=o.loginForm.get("password"))||null==t.errors?null:t.errors.required),e.R7$(1),e.Y8G("ngIf",null==(n=o.loginForm.get("password"))||null==n.errors?null:n.errors.minlength)}}let N=(()=>{class r{constructor(o,t,n){this.fb=o,this.authService=t,this.router=n,this.loginForm=this.fb.group({email:["",[i.k0.required,i.k0.email]],password:["",[i.k0.required,i.k0.minLength(6)]]})}onSubmit(){this.loginForm.valid&&(console.log(this.loginForm.value),this.authService.login(this.loginForm.value).subscribe({next:()=>{this.router.navigate(["/home"])},error:o=>{console.error("Error en el inicio de sesi\xf3n:",o)}}))}static{this.\u0275fac=function(t){return new(t||r)(e.rXU(i.ok),e.rXU(E.u),e.rXU(g.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-login-page"]],decls:20,vars:4,consts:[[1,"login-container"],[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","formControlName","email","required",""],[4,"ngIf"],["matInput","","type","password","formControlName","password","required",""],[1,"text-center","my-2"],["routerLink","/auth/register",1,""],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(t,n){if(1&t&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Iniciar Sesi\xf3n"),e.k0s(),e.j41(3,"form",1),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(4,"mat-form-field",2)(5,"mat-label"),e.EFF(6,"Email"),e.k0s(),e.nrm(7,"input",3),e.DNE(8,I,3,2,"mat-error",4),e.k0s(),e.j41(9,"mat-form-field",2)(10,"mat-label"),e.EFF(11,"Contrase\xf1a"),e.k0s(),e.nrm(12,"input",5),e.DNE(13,T,3,2,"mat-error",4),e.k0s(),e.j41(14,"div",6)(15,"a",7),e.EFF(16," Registrarse "),e.k0s()(),e.j41(17,"div")(18,"button",8),e.EFF(19,"Iniciar Sesi\xf3n"),e.k0s()()()()),2&t){let s,m;e.R7$(3),e.Y8G("formGroup",n.loginForm),e.R7$(5),e.Y8G("ngIf",(null==(s=n.loginForm.get("email"))?null:s.invalid)&&((null==(s=n.loginForm.get("email"))?null:s.dirty)||(null==(s=n.loginForm.get("email"))?null:s.touched))),e.R7$(5),e.Y8G("ngIf",(null==(m=n.loginForm.get("password"))?null:m.invalid)&&((null==(m=n.loginForm.get("password"))?null:m.dirty)||(null==(m=n.loginForm.get("password"))?null:m.touched))),e.R7$(5),e.Y8G("disabled",n.loginForm.invalid)}},dependencies:[h.bT,g.Wk,i.qT,i.me,i.BC,i.cb,i.YS,i.j4,i.JD,b.$z,p.rl,p.nJ,p.TL,C.fg],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#f5f5f5;padding:20px;box-sizing:border-box}h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}button[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 10px #0000001a;max-width:400px;width:100%}"]})}}return r})();var v=a(9437),y=a(5794),x=a(2006),$=a(5050);function q(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"El nombre es requerido."),e.k0s())}function Y(r,l){if(1&r&&(e.j41(0,"mat-error"),e.DNE(1,q,2,0,"span",5),e.k0s()),2&r){const o=e.XpG();let t;e.R7$(1),e.Y8G("ngIf",null==(t=o.registerForm.get("nombre"))||null==t.errors?null:t.errors.required)}}function D(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"El apellido es requerido."),e.k0s())}function w(r,l){if(1&r&&(e.j41(0,"mat-error"),e.DNE(1,D,2,0,"span",5),e.k0s()),2&r){const o=e.XpG();let t;e.R7$(1),e.Y8G("ngIf",null==(t=o.registerForm.get("apellido"))||null==t.errors?null:t.errors.required)}}function S(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"El ci es requerido."),e.k0s())}function L(r,l){if(1&r&&(e.j41(0,"mat-error"),e.DNE(1,S,2,0,"span",5),e.k0s()),2&r){const o=e.XpG();let t;e.R7$(1),e.Y8G("ngIf",null==(t=o.registerForm.get("ci"))||null==t.errors?null:t.errors.required)}}function X(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"El telefono es requerido."),e.k0s())}function M(r,l){if(1&r&&(e.j41(0,"mat-error"),e.DNE(1,X,2,0,"span",5),e.k0s()),2&r){const o=e.XpG();let t;e.R7$(1),e.Y8G("ngIf",null==(t=o.registerForm.get("telefono"))||null==t.errors?null:t.errors.required)}}function U(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"El direccion es requerido."),e.k0s())}function O(r,l){if(1&r&&(e.j41(0,"mat-error"),e.DNE(1,U,2,0,"span",5),e.k0s()),2&r){const o=e.XpG();let t;e.R7$(1),e.Y8G("ngIf",null==(t=o.registerForm.get("direccion"))||null==t.errors?null:t.errors.required)}}function A(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"El genero es requerido."),e.k0s())}function W(r,l){if(1&r&&(e.j41(0,"mat-error"),e.DNE(1,A,2,0,"span",5),e.k0s()),2&r){const o=e.XpG();let t;e.R7$(1),e.Y8G("ngIf",null==(t=o.registerForm.get("genero"))||null==t.errors?null:t.errors.required)}}function B(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"La contrase\xf1a es requerida."),e.k0s())}function J(r,l){if(1&r&&(e.j41(0,"mat-error"),e.DNE(1,B,2,0,"span",5),e.k0s()),2&r){const o=e.XpG();let t;e.R7$(1),e.Y8G("ngIf",null==(t=o.registerForm.get("email"))||null==t.errors?null:t.errors.required)}}function z(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"La contrase\xf1a es requerida."),e.k0s())}function V(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"La contrase\xf1a debe tener al menos 6 caracteres."),e.k0s())}function H(r,l){if(1&r&&(e.j41(0,"mat-error"),e.DNE(1,z,2,0,"span",5),e.DNE(2,V,2,0,"span",5),e.k0s()),2&r){const o=e.XpG();let t,n;e.R7$(1),e.Y8G("ngIf",null==(t=o.registerForm.get("password"))||null==t.errors?null:t.errors.required),e.R7$(1),e.Y8G("ngIf",null==(n=o.registerForm.get("password"))||null==n.errors?null:n.errors.minlength)}}const K=[{path:"",children:[{path:"login",component:N},{path:"register",component:(()=>{class r{constructor(o,t,n,s,m,u){this.fb=o,this.toastr=t,this.authService=n,this.router=s,this.pacientesServices=m,this.userServices=u,this.registerForm=this.fb.group({nombre:["",[i.k0.required]],apellido:["",[i.k0.required]],ci:["",[i.k0.required]],telefono:["",[i.k0.required]],direccion:["",[i.k0.required]],genero:["",[i.k0.required]],email:["",[i.k0.required,i.k0.email]],password:["",[i.k0.required,i.k0.minLength(6)]]}),this.custonForm=this.fb.group({userId:["",i.k0.required],tipo:["Paciente",i.k0.required]})}onSubmit(){this.registerForm.invalid?(this.registerForm.markAllAsTouched(),this.toastr.warning("Rellene los campos obligatorios")):this.userServices.registerUsers(this.registerForm.value).pipe((0,v.W)(o=>{throw this.toastr.error("usuario no registrado"),console.log(o),new Error(o)})).subscribe(o=>{const t={tipo:this.custonForm.get("tipo")?.value,userId:o.id};this.pacientesServices.registerPacientes(t).pipe((0,v.W)(n=>{throw this.toastr.error("Paciente no agregado"),console.log(n),new Error(n)})).subscribe(n=>{this.toastr.success("Paciente agregado exitosamente"),this.custonForm.reset()}),this.toastr.success("Usuario creado exitosamente"),this.registerForm.reset(),this.router.navigate(["/auth/login"])})}static{this.\u0275fac=function(t){return new(t||r)(e.rXU(i.ok),e.rXU(y.tw),e.rXU(E.u),e.rXU(g.Ix),e.rXU(x.W),e.rXU($.g))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-register-page"]],decls:53,vars:10,consts:[[1,"register-container"],[3,"formGroup","ngSubmit"],[1,"flex"],["appearance","fill"],["matInput","","formControlName","nombre","required",""],[4,"ngIf"],["matInput","","formControlName","apellido","required",""],["matInput","","formControlName","ci","required",""],["matInput","","formControlName","telefono","required",""],["matInput","","formControlName","direccion","required",""],["matInput","","formControlName","genero","required",""],["matInput","","type","email","formControlName","email","required",""],["matInput","","type","password","formControlName","password","required",""],[1,"text-center","my-2"],["routerLink","/auth/login",1,""],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(t,n){if(1&t&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Registrarse"),e.k0s(),e.j41(3,"form",1),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),e.EFF(7,"Nombre"),e.k0s(),e.nrm(8,"input",4),e.DNE(9,Y,2,1,"mat-error",5),e.k0s(),e.j41(10,"mat-form-field",3)(11,"mat-label"),e.EFF(12,"Apellido"),e.k0s(),e.nrm(13,"input",6),e.DNE(14,w,2,1,"mat-error",5),e.k0s()(),e.j41(15,"div",2)(16,"mat-form-field",3)(17,"mat-label"),e.EFF(18,"Ci"),e.k0s(),e.nrm(19,"input",7),e.DNE(20,L,2,1,"mat-error",5),e.k0s(),e.j41(21,"mat-form-field",3)(22,"mat-label"),e.EFF(23,"Telefono"),e.k0s(),e.nrm(24,"input",8),e.DNE(25,M,2,1,"mat-error",5),e.k0s()(),e.j41(26,"div",2)(27,"mat-form-field",3)(28,"mat-label"),e.EFF(29,"Direcci\xf3n"),e.k0s(),e.nrm(30,"input",9),e.DNE(31,O,2,1,"mat-error",5),e.k0s(),e.j41(32,"mat-form-field",3)(33,"mat-label"),e.EFF(34,"Genero"),e.k0s(),e.nrm(35,"input",10),e.DNE(36,W,2,1,"mat-error",5),e.k0s()(),e.j41(37,"div")(38,"mat-form-field",3)(39,"mat-label"),e.EFF(40,"Correo"),e.k0s(),e.nrm(41,"input",11),e.DNE(42,J,2,1,"mat-error",5),e.k0s(),e.j41(43,"mat-form-field",3)(44,"mat-label"),e.EFF(45,"Contrase\xf1a"),e.k0s(),e.nrm(46,"input",12),e.DNE(47,H,3,2,"mat-error",5),e.k0s()(),e.j41(48,"div",13)(49,"a",14),e.EFF(50," Iniciar Sesi\xf3n "),e.k0s()(),e.j41(51,"button",15),e.EFF(52," Registrarse "),e.k0s()()()),2&t){let s,m,u,c,d,f,F,_;e.R7$(3),e.Y8G("formGroup",n.registerForm),e.R7$(6),e.Y8G("ngIf",(null==(s=n.registerForm.get("nombre"))?null:s.invalid)&&((null==(s=n.registerForm.get("nombre"))?null:s.dirty)||(null==(s=n.registerForm.get("nombre"))?null:s.touched))),e.R7$(5),e.Y8G("ngIf",(null==(m=n.registerForm.get("apellido"))?null:m.invalid)&&((null==(m=n.registerForm.get("apellido"))?null:m.dirty)||(null==(m=n.registerForm.get("apellido"))?null:m.touched))),e.R7$(6),e.Y8G("ngIf",(null==(u=n.registerForm.get("ci"))?null:u.invalid)&&((null==(u=n.registerForm.get("ci"))?null:u.dirty)||(null==(u=n.registerForm.get("ci"))?null:u.touched))),e.R7$(5),e.Y8G("ngIf",(null==(c=n.registerForm.get("telefono"))?null:c.invalid)&&((null==(c=n.registerForm.get("telefono"))?null:c.dirty)||(null==(c=n.registerForm.get("telefono"))?null:c.touched))),e.R7$(6),e.Y8G("ngIf",(null==(d=n.registerForm.get("direccion"))?null:d.invalid)&&((null==(d=n.registerForm.get("direccion"))?null:d.dirty)||(null==(d=n.registerForm.get("direccion"))?null:d.touched))),e.R7$(5),e.Y8G("ngIf",(null==(f=n.registerForm.get("genero"))?null:f.invalid)&&((null==(f=n.registerForm.get("genero"))?null:f.dirty)||(null==(f=n.registerForm.get("genero"))?null:f.touched))),e.R7$(6),e.Y8G("ngIf",(null==(F=n.registerForm.get("email"))?null:F.invalid)&&((null==(F=n.registerForm.get("email"))?null:F.dirty)||(null==(F=n.registerForm.get("email"))?null:F.touched))),e.R7$(5),e.Y8G("ngIf",(null==(_=n.registerForm.get("password"))?null:_.invalid)&&((null==(_=n.registerForm.get("password"))?null:_.dirty)||(null==(_=n.registerForm.get("password"))?null:_.touched))),e.R7$(4),e.Y8G("disabled",n.registerForm.invalid)}},dependencies:[h.bT,g.Wk,i.qT,i.me,i.BC,i.cb,i.YS,i.j4,i.JD,b.$z,p.rl,p.nJ,p.TL,C.fg],styles:[".register-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;background-color:#f5f5f5;padding:20px}h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}button[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 10px #0000001a}"]})}}return r})()},{path:"**",redirectTo:"login"}]}];let Q=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[g.iI.forChild(K),g.iI]})}}return r})();var Z=a(232);let ee=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[h.MD,Q,i.X1,g.iI,Z.G]})}}return r})()}}]);