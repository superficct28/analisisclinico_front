"use strict";(self.webpackChunkalert_school=self.webpackChunkalert_school||[]).push([[423],{5423:(Wo,H,m)=>{m.r(H),m.d(H,{GestionModule:()=>Jo});var E=m(177),b=m(8498),s=m(9417),_=m(6440),p=m(2042),c=m(9159),d=m(9437),F=m(7673),U=m(8032),R=m.n(U),t=m(7705),f=m(5351),$=m(8599),x=m(5794),u=m(8834),C=m(5596),h=m(882),k=m(9213),j=m(9631);let v=(()=>{class o{constructor(){this.title=""}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-card-header"]],inputs:{title:"title"},decls:4,vars:1,consts:[[1,"mt-2"]],template:function(i,r){1&i&&(t.j41(0,"mat-card",0)(1,"mat-card-content")(2,"mat-card-title"),t.EFF(3),t.k0s()()()),2&i&&(t.R7$(3),t.SpI(" ",r.title," "))},dependencies:[C.RN,C.m2,C.dh]})}}return o})();const A=[[["","content",""]]],Y=["[content]"];let D=(()=>{class o{constructor(){this.title=""}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-alert"]],inputs:{title:"title"},ngContentSelectors:Y,decls:5,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""]],template:function(i,r){1&i&&(t.NAR(A),t.j41(0,"div")(1,"h1",0),t.EFF(2),t.k0s(),t.j41(3,"div",1),t.SdG(4),t.k0s()()),2&i&&(t.R7$(2),t.JRh(r.title))},dependencies:[f.BI,f.Yi]})}}return o})();const O=["alertForm"];function X(o,n){1&o&&(t.j41(0,"th",15),t.EFF(1,"Id."),t.k0s())}function q(o,n){if(1&o&&(t.j41(0,"td",16),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.id)}}function L(o,n){1&o&&(t.j41(0,"th",15),t.EFF(1,"Nombre"),t.k0s())}function J(o,n){if(1&o&&(t.j41(0,"td",16),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.nombre)}}function W(o,n){1&o&&(t.j41(0,"th",15),t.EFF(1,"Descripci\xf3n"),t.k0s())}function z(o,n){if(1&o&&(t.j41(0,"td",16),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.description)}}function Z(o,n){1&o&&(t.j41(0,"th",15),t.EFF(1," Acci\xf3n "),t.k0s())}function Q(o,n){if(1&o){const e=t.RV6();t.j41(0,"td",16)(1,"div")(2,"button",17),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.handleGoToEditPage(a.id))}),t.j41(3,"mat-icon"),t.EFF(4,"edit"),t.k0s()(),t.j41(5,"button",17),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.handleDeleteProduct(a.id))}),t.j41(6,"mat-icon"),t.EFF(7,"delete"),t.k0s()()()()}}function K(o,n){1&o&&t.nrm(0,"tr",18)}function tt(o,n){1&o&&t.nrm(0,"tr",19)}function et(o,n){if(1&o){const e=t.RV6();t.j41(0,"app-alert",20)(1,"mat-card-content",21)(2,"form",22),t.bIt("submit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.submitForm())}),t.j41(3,"div")(4,"mat-form-field",23)(5,"mat-label"),t.EFF(6," Nombre "),t.k0s(),t.nrm(7,"input",24),t.k0s(),t.j41(8,"mat-form-field",23)(9,"mat-label"),t.EFF(10," Descripci\xf3n "),t.k0s(),t.nrm(11,"input",25),t.k0s()(),t.j41(12,"div",26)(13,"button",27),t.EFF(14," Registrar "),t.k0s(),t.nrm(15,"div",28),t.j41(16,"button",29),t.EFF(17," Cancelar "),t.k0s()()()()()}if(2&o){const e=t.XpG();t.R7$(2),t.Y8G("formGroup",e.custonForm)}}const ot=function(){return[5,10,20]};let it=(()=>{class o{constructor(e,i,r,a){this.dialog=e,this.formBuilder=i,this.especialidadService=r,this.toastr=a,this.displayedColumns=["id","nombre","description","accion"],this.custonForm=this.formBuilder.group({nombre:["",s.k0.required],description:["",s.k0.required]}),this.especialidades=[],this.especialidadService.getEspecialidades().pipe((0,d.W)(l=>(this.toastr.error("Error al cargar los datos"),(0,F.of)([])))).subscribe(l=>{console.log(l),this.especialidadService.setEspecialidades(l),this.especialidades=this.especialidadService.especialidades,this.dataSource=new c.I6(this.especialidades),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}ngOnInit(){this.getEspecialidades()}openDialog(){this.alertRef=this.dialog.open(this.alertForm)}fieldValidator(e){return this.custonForm.controls[`${e}`].errors&&this.custonForm.controls[`${e}`].touched}changeSelect(e){this.custonForm.patchValue({[`${e.target.name}`]:e.target.value})}submitForm(){this.custonForm.invalid?(this.custonForm.markAllAsTouched(),this.toastr.warning("Rellene los campos obligatorios")):this.especialidadService.registerEspecialidad(this.custonForm.value).pipe((0,d.W)(e=>{throw this.toastr.error("Especialidad no agregada"),console.log(e),new Error(e)})).subscribe(()=>{this.toastr.success("Especialidad agregada exitosamente"),this.custonForm.reset(),this.ngOnInit(),this.alertRef.close()})}resetForm(){this.custonForm.patchValue({name:"",description:"",state:""}),this.custonForm.markAsUntouched()}getEspecialidades(){this.especialidadService.getEspecialidades().pipe((0,d.W)(e=>(this.toastr.error("Error al cargar los datos"),(0,F.of)([])))).subscribe(e=>{console.log(e),this.especialidadService.setEspecialidades(e),this.especialidades=this.especialidadService.especialidades,this.dataSource=new c.I6(this.especialidades),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}handleGoToEditPage(e){console.log(e)}handleDeleteProduct(e){e&&R().fire({title:"Seguro de desea eliminar esta especialidad?",text:"Los cambios no se podran revertir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar"}).then(i=>{i.isConfirmed&&this.especialidadService.deleteEspecialidadById(e).pipe((0,d.W)(r=>{throw this.toastr.error("Error al eliminar el especialidad"),new Error(r)})).subscribe(r=>{this.toastr.success("Especialidad eliminado correctamente"),this.ngOnInit()})})}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(f.bZ),t.rXU(s.ok),t.rXU($.W),t.rXU(x.tw))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-studen-page"]],viewQuery:function(i,r){if(1&i&&(t.GBs(p.B4,5),t.GBs(O,5),t.GBs(_.iy,5)),2&i){let a;t.mGM(a=t.lsd())&&(r.sort=a.first),t.mGM(a=t.lsd())&&(r.alertForm=a.first),t.mGM(a=t.lsd())&&(r.paginator=a.first)}},decls:24,vars:5,consts:[["title","Gestionar Especialidades Medicas"],[1,"flex","justify-content-between","align-items-center"],["mat-raised-button","","color","primary",1,"my-3",3,"click"],[1,"mat-elevation-z2"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","description"],["matColumnDef","accion"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["alertForm",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""],["title","Agregar Nueva Especialidad"],["content",""],[3,"formGroup","submit"],[1,"w-full"],["matInput","","type","text","name","nombre","formControlName","nombre"],["matInput","","type","text","name","description","formControlName","description"],[1,"flex"],["mat-raised-button","","color","primary","type","submit"],[1,"mx-2"],["mat-raised-button","","color","accent","mat-dialog-close",""]],template:function(i,r){1&i&&(t.j41(0,"mat-card-content"),t.nrm(1,"app-card-header",0),t.j41(2,"div",1)(3,"button",2),t.bIt("click",function(){return r.openDialog()}),t.EFF(4," Agregar Especialidad "),t.k0s()(),t.j41(5,"div",3)(6,"table",4),t.qex(7,5),t.DNE(8,X,2,0,"th",6),t.DNE(9,q,2,1,"td",7),t.bVm(),t.qex(10,8),t.DNE(11,L,2,0,"th",6),t.DNE(12,J,2,1,"td",7),t.bVm(),t.qex(13,9),t.DNE(14,W,2,0,"th",6),t.DNE(15,z,2,1,"td",7),t.bVm(),t.qex(16,10),t.DNE(17,Z,2,0,"th",6),t.DNE(18,Q,8,0,"td",7),t.bVm(),t.DNE(19,K,1,0,"tr",11),t.DNE(20,tt,1,0,"tr",12),t.k0s(),t.nrm(21,"mat-paginator",13),t.k0s()(),t.DNE(22,et,18,1,"ng-template",null,14,t.C5r)),2&i&&(t.R7$(6),t.Y8G("dataSource",r.dataSource),t.R7$(13),t.Y8G("matHeaderRowDef",r.displayedColumns),t.R7$(1),t.Y8G("matRowDefColumns",r.displayedColumns),t.R7$(1),t.Y8G("pageSizeOptions",t.lJ4(4,ot)))},dependencies:[s.qT,s.me,s.BC,s.cb,s.j4,s.JD,u.$z,u.iY,C.m2,f.tx,h.rl,h.nJ,k.An,j.fg,_.iy,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,p.B4,p.aE,v,D]})}}return o})();var T=m(3943),w=m(1626);let N=(()=>{class o{constructor(e){this.http=e,this.APIURL=T.c.serverApi,this._medicos=[]}get medicos(){return this._medicos}setMedicos(e){this._medicos=e}getMedicos(){return this.http.get(`${this.APIURL}/medicos`)}getMedicosById(e){return this.http.get(`${this.APIURL}/medicos/${e}`)}registerMedicos(e){return this.http.post(`${this.APIURL}/medicos`,e)}updateMedicosById(e,i){return this.http.put(`${this.APIURL}/medicos/${e}`,i)}deleteMedicosById(e){return this.http.delete(`${this.APIURL}/medicos/${e}`)}static{this.\u0275fac=function(i){return new(i||o)(t.KVO(w.Qq))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var I=m(5050),G=m(6600),M=m(2798);const nt=["alertForm"];function rt(o,n){1&o&&t.nrm(0,"tr",20)}function at(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Id."),t.k0s())}function st(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.id)}}function ct(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Nombre"),t.k0s())}function lt(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.user.nombre)}}function mt(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Apellido"),t.k0s())}function dt(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.user.apellido)}}function pt(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Ci"),t.k0s())}function ut(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.user.ci)}}function ht(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Telefono"),t.k0s())}function ft(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.user.telefono)}}function gt(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Direccion"),t.k0s())}function _t(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.user.direccion)}}function Ft(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Genero"),t.k0s())}function bt(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.user.genero)}}function Ct(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Acci\xf3n"),t.k0s())}const Et=function(){return{color:""}},kt=function(){return{color:"black"}};function xt(o,n){if(1&o){const e=t.RV6();t.j41(0,"td",23)(1,"div")(2,"button",24),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.handleGoToEditPage(a.id))}),t.j41(3,"mat-icon"),t.EFF(4,"edit"),t.k0s()(),t.j41(5,"button",24),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.handleDeleteProduct(a.id))}),t.j41(6,"mat-icon"),t.EFF(7,"delete"),t.k0s()()()()}2&o&&(t.R7$(2),t.Y8G("ngStyle",t.lJ4(2,Et)),t.R7$(3),t.Y8G("ngStyle",t.lJ4(3,kt)))}const vt=function(o){return{"background-color":o}};function jt(o,n){1&o&&t.nrm(0,"tr",25),2&o&&t.Y8G("ngStyle",t.eq3(1,vt,n.$implicit.id%2==0?"#e0f7fa":"#ffffff"))}function Rt(o,n){if(1&o&&(t.j41(0,"mat-option",45),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.Y8G("value",e.nombre),t.R7$(1),t.JRh(e.nombre)}}function Dt(o,n){if(1&o){const e=t.RV6();t.j41(0,"app-alert",26)(1,"mat-card-content",27)(2,"form",28),t.bIt("submit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.submitForm())}),t.j41(3,"div")(4,"mat-form-field",29)(5,"mat-label"),t.EFF(6,"Nombre"),t.k0s(),t.nrm(7,"input",30),t.k0s(),t.j41(8,"mat-form-field",29)(9,"mat-label"),t.EFF(10,"Apellido"),t.k0s(),t.nrm(11,"input",31),t.k0s(),t.j41(12,"mat-form-field",29)(13,"mat-label"),t.EFF(14,"CI"),t.k0s(),t.nrm(15,"input",32),t.k0s(),t.j41(16,"mat-form-field",29)(17,"mat-label"),t.EFF(18,"Tel\xe9fono"),t.k0s(),t.nrm(19,"input",33),t.k0s(),t.j41(20,"mat-form-field",29)(21,"mat-label"),t.EFF(22,"Direcci\xf3n"),t.k0s(),t.nrm(23,"input",34),t.k0s(),t.j41(24,"mat-form-field",29)(25,"mat-label"),t.EFF(26,"G\xe9nero"),t.k0s(),t.j41(27,"mat-select",35)(28,"mat-option",36),t.EFF(29,"Hombre"),t.k0s(),t.j41(30,"mat-option",37),t.EFF(31,"Mujer"),t.k0s()()(),t.j41(32,"mat-form-field",29)(33,"mat-label"),t.EFF(34,"Correo"),t.k0s(),t.nrm(35,"input",38),t.k0s(),t.j41(36,"mat-form-field",29)(37,"mat-label"),t.EFF(38,"Contrase\xf1a"),t.k0s(),t.nrm(39,"input",39),t.k0s(),t.j41(40,"mat-form-field",29)(41,"mat-label"),t.EFF(42,"Especialidad"),t.k0s(),t.j41(43,"mat-select",40),t.DNE(44,Rt,2,2,"mat-option",41),t.k0s()()(),t.j41(45,"div",42)(46,"button",43),t.EFF(47," Registrar "),t.k0s(),t.j41(48,"button",44),t.EFF(49," Cancelar "),t.k0s()()()()()}if(2&o){const e=t.XpG();t.R7$(2),t.Y8G("formGroup",e.custonForm),t.R7$(42),t.Y8G("ngForOf",e.especialidades)}}const St=function(){return[5,10,20]};let wt=(()=>{class o{constructor(e,i,r,a,l,g){this.dialog=e,this.formBuilder=i,this.medicosService=r,this.toastr=a,this.especialidadService=l,this.usersServices=g,this.displayedColumns=["id","nombre","apellido","ci","telefono","direccion","genero","accion"],this.custonForm=this.formBuilder.group({nombre:["",s.k0.required],apellido:["",s.k0.required],ci:["",s.k0.required],telefono:["",s.k0.required],direccion:["",s.k0.required],genero:["",s.k0.required],email:["",s.k0.required],password:["",s.k0.required],especialidad:["",s.k0.required],tipo:["Medico",s.k0.required]}),this.medicos=[],this.especialidades=[],this.getMedicos(),this.getEspecialidades()}ngOnInit(){this.getMedicos(),this.getEspecialidades()}openDialog(){this.alertRef=this.dialog.open(this.alertForm)}fieldValidator(e){return this.custonForm.controls[`${e}`].errors&&this.custonForm.controls[`${e}`].touched}changeSelect(e){}submitForm(){if(this.custonForm.invalid)this.custonForm.markAllAsTouched(),this.toastr.warning("Rellene los campos obligatorios");else{const e={nombre:this.custonForm.get("nombre")?.value,apellido:this.custonForm.get("apellido")?.value,ci:this.custonForm.get("ci")?.value,email:this.custonForm.get("email")?.value,telefono:this.custonForm.get("telefono")?.value,direccion:this.custonForm.get("direccion")?.value,password:this.custonForm.get("password")?.value,genero:this.custonForm.get("genero")?.value,rolId:2};this.usersServices.registerUsers(e).pipe((0,d.W)(i=>{throw this.toastr.error("Usuario no agregada"),console.log(i),new Error(i)})).subscribe(i=>{const r={especialidad:this.custonForm.get("especialidad")?.value,tipo:this.custonForm.get("tipo")?.value,userId:i.id};this.medicosService.registerMedicos(r).pipe((0,d.W)(a=>{throw this.toastr.error("Medico no agregado"),console.log(a),new Error(a)})).subscribe(a=>{this.toastr.success("Medico agregado exitosamente"),this.ngOnInit(),this.custonForm.reset(),this.alertRef.close()})})}}getEspecialidades(){this.especialidadService.getEspecialidades().pipe((0,d.W)(e=>(this.toastr.error("Error al cargar los datos"),(0,F.of)([])))).subscribe(e=>{console.log(e),this.especialidadService.setEspecialidades(e),this.especialidades=this.especialidadService.especialidades})}getMedicos(){this.medicosService.getMedicos().pipe((0,d.W)(e=>(this.toastr.error("Error al cargar los datos"),(0,F.of)([])))).subscribe(e=>{console.log(e),this.medicosService.setMedicos(e),this.medicos=this.medicosService.medicos,this.dataSource=new c.I6(this.medicos),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}handleGoToEditPage(e){console.log(e)}handleDeleteProduct(e){e&&R().fire({title:"Seguro de desea eliminar el medico?",text:"Los cambios no se podran revertir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar"}).then(i=>{i.isConfirmed&&this.medicosService.deleteMedicosById(e).pipe((0,d.W)(r=>{throw this.toastr.error("Error al eliminar el medico"),new Error(r)})).subscribe(r=>{this.toastr.success("Medico eliminado correctamente"),this.ngOnInit()})})}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(f.bZ),t.rXU(s.ok),t.rXU(N),t.rXU(x.tw),t.rXU($.W),t.rXU(I.g))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-medico"]],viewQuery:function(i,r){if(1&i&&(t.GBs(p.B4,5),t.GBs(nt,5),t.GBs(_.iy,5)),2&i){let a;t.mGM(a=t.lsd())&&(r.sort=a.first),t.mGM(a=t.lsd())&&(r.alertForm=a.first),t.mGM(a=t.lsd())&&(r.paginator=a.first)}},decls:36,vars:5,consts:[["title","Gestionar Medicos"],[1,"flex","justify-content-between","align-items-center"],["mat-raised-button","","color","primary",1,"my-3",3,"click"],[1,"mat-elevation-z2",2,"border-radius","8px","overflow","hidden","box-shadow","0px 4px 12px rgba(0, 0, 0, 0.1)"],["mat-table","","matSort","",2,"background-color","#f5f5f5","width","100%",3,"dataSource"],["mat-header-row","","style","background-color: #3f51b5; color: white;",4,"matHeaderRowDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","style","color: white; padding: 16px;",4,"matHeaderCellDef"],["mat-cell","","style","color: #333; padding: 16px;",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","apellido"],["matColumnDef","ci"],["matColumnDef","telefono"],["matColumnDef","direccion"],["matColumnDef","genero"],["matColumnDef","accion"],["mat-cell","","style","padding: 16px;",4,"matCellDef"],["mat-row","",3,"ngStyle",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",2,"padding","16px",3,"pageSizeOptions"],["alertForm",""],["mat-header-row","",2,"background-color","#3f51b5","color","white"],["mat-header-cell","","mat-sort-header","",2,"color","white","padding","16px"],["mat-cell","",2,"color","#333","padding","16px"],["mat-cell","",2,"padding","16px"],["mat-icon-button","",3,"ngStyle","click"],["mat-row","",3,"ngStyle"],["title","Agregar Nuevo Medico"],["content",""],[3,"formGroup","submit"],[1,"w-full"],["matInput","","type","text","name","nombre","formControlName","nombre"],["matInput","","type","text","name","apellido","formControlName","apellido"],["matInput","","type","text","name","ci","formControlName","ci"],["matInput","","type","text","name","telefono","formControlName","telefono"],["matInput","","type","text","name","direccion","formControlName","direccion"],["name","genero","formControlName","genero"],["value","M"],["value","F"],["matInput","","type","email","name","email","formControlName","email"],["matInput","","type","password","name","password","formControlName","password"],["name","especialidad","formControlName","especialidad"],[3,"value",4,"ngFor","ngForOf"],[1,"flex",2,"display","flex","justify-content","flex-end","margin-top","16px"],["mat-raised-button","","type","submit",2,"background-color","#4CAF50","color","white","margin-right","8px"],["mat-raised-button","","mat-dialog-close","",2,"background-color","#f44336","color","white"],[3,"value"]],template:function(i,r){1&i&&(t.j41(0,"mat-card-content"),t.nrm(1,"app-card-header",0),t.j41(2,"div",1)(3,"button",2),t.bIt("click",function(){return r.openDialog()}),t.EFF(4," Agregar Medico "),t.k0s()(),t.j41(5,"div",3)(6,"table",4),t.DNE(7,rt,1,0,"tr",5),t.qex(8,6),t.DNE(9,at,2,0,"th",7),t.DNE(10,st,2,1,"td",8),t.bVm(),t.qex(11,9),t.DNE(12,ct,2,0,"th",7),t.DNE(13,lt,2,1,"td",8),t.bVm(),t.qex(14,10),t.DNE(15,mt,2,0,"th",7),t.DNE(16,dt,2,1,"td",8),t.bVm(),t.qex(17,11),t.DNE(18,pt,2,0,"th",7),t.DNE(19,ut,2,1,"td",8),t.bVm(),t.qex(20,12),t.DNE(21,ht,2,0,"th",7),t.DNE(22,ft,2,1,"td",8),t.bVm(),t.qex(23,13),t.DNE(24,gt,2,0,"th",7),t.DNE(25,_t,2,1,"td",8),t.bVm(),t.qex(26,14),t.DNE(27,Ft,2,0,"th",7),t.DNE(28,bt,2,1,"td",8),t.bVm(),t.qex(29,15),t.DNE(30,Ct,2,0,"th",7),t.DNE(31,xt,8,4,"td",16),t.bVm(),t.DNE(32,jt,1,3,"tr",17),t.k0s(),t.nrm(33,"mat-paginator",18),t.k0s()(),t.DNE(34,Dt,50,2,"ng-template",null,19,t.C5r)),2&i&&(t.R7$(6),t.Y8G("dataSource",r.dataSource),t.R7$(1),t.Y8G("matHeaderRowDef",r.displayedColumns),t.R7$(25),t.Y8G("matRowDefColumns",r.displayedColumns),t.R7$(1),t.Y8G("pageSizeOptions",t.lJ4(4,St)))},dependencies:[E.Sq,E.B3,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,G.wT,u.$z,u.iY,C.m2,f.tx,h.rl,h.nJ,k.An,j.fg,M.VO,_.iy,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,p.B4,p.aE,v,D]})}}return o})(),yt=(()=>{class o{constructor(e){this.http=e,this.APIURL=T.c.serverApi,this._roles=[]}get roles(){return this._roles}setRoles(e){this._roles=e}getRoles(){return this.http.get(`${this.APIURL}/roles`)}getRolesById(e){return this.http.get(`${this.APIURL}/roles/${e}`)}registerRoles(e){return this.http.post(`${this.APIURL}/roles`,e)}updateRolesById(e,i){return this.http.put(`${this.APIURL}/roles/${e}`,i)}deleteRolesById(e){return this.http.delete(`${this.APIURL}/roles/${e}`)}static{this.\u0275fac=function(i){return new(i||o)(t.KVO(w.Qq))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const $t=["alertForm"];function Tt(o,n){1&o&&t.nrm(0,"tr",15)}function Pt(o,n){1&o&&(t.j41(0,"th",16),t.EFF(1,"Id."),t.k0s())}function Nt(o,n){if(1&o&&(t.j41(0,"td",17),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.id)}}function It(o,n){1&o&&(t.j41(0,"th",16),t.EFF(1,"Nombre"),t.k0s())}function Gt(o,n){if(1&o&&(t.j41(0,"td",17),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.nombre)}}function Mt(o,n){1&o&&(t.j41(0,"th",16),t.EFF(1,"Acci\xf3n"),t.k0s())}const Bt=function(){return{color:"#3f51b5"}},Vt=function(){return{color:"red"}};function Ht(o,n){if(1&o){const e=t.RV6();t.j41(0,"td",18)(1,"div")(2,"button",19),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.handleGoToEditPage(a.id))}),t.j41(3,"mat-icon"),t.EFF(4,"edit"),t.k0s()(),t.j41(5,"button",19),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.handleDeleteProduct(a.id))}),t.j41(6,"mat-icon"),t.EFF(7,"delete"),t.k0s()()()()}2&o&&(t.R7$(2),t.Y8G("ngStyle",t.lJ4(2,Bt)),t.R7$(3),t.Y8G("ngStyle",t.lJ4(3,Vt)))}const Ut=function(o){return{"background-color":o}};function At(o,n){1&o&&t.nrm(0,"tr",20),2&o&&t.Y8G("ngStyle",t.eq3(1,Ut,n.$implicit.id%2==0?"#e0f7fa":"#ffffff"))}function Yt(o,n){if(1&o){const e=t.RV6();t.j41(0,"app-alert",21)(1,"mat-card-content",22)(2,"form",23),t.bIt("submit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.submitForm())}),t.j41(3,"div")(4,"mat-form-field",24)(5,"mat-label"),t.EFF(6," Nombre "),t.k0s(),t.nrm(7,"input",25),t.k0s()(),t.j41(8,"div",26)(9,"button",27),t.EFF(10," Registrar "),t.k0s(),t.nrm(11,"div",28),t.j41(12,"button",29),t.EFF(13," Cancelar "),t.k0s()()()()()}if(2&o){const e=t.XpG();t.R7$(2),t.Y8G("formGroup",e.custonForm)}}const Ot=function(){return[5,10,20]};let Xt=(()=>{class o{constructor(e,i,r,a){this.dialog=e,this.formBuilder=i,this.rolesService=r,this.toastr=a,this.displayedColumns=["id","nombre","accion"],this.custonForm=this.formBuilder.group({nombre:["",s.k0.required]}),this.roles=[],this.rolesService.getRoles().pipe((0,d.W)(l=>(this.toastr.error("Error al cargar los datos"),(0,F.of)([])))).subscribe(l=>{console.log(l),this.rolesService.setRoles(l),this.roles=this.rolesService.roles,this.dataSource=new c.I6(this.roles),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}ngOnInit(){this.getRoles()}openDialog(){this.alertRef=this.dialog.open(this.alertForm)}fieldValidator(e){return this.custonForm.controls[`${e}`].errors&&this.custonForm.controls[`${e}`].touched}changeSelect(e){this.custonForm.patchValue({[`${e.target.name}`]:e.target.value})}submitForm(){this.custonForm.invalid?(this.custonForm.markAllAsTouched(),this.toastr.warning("Rellene los campos obligatorios")):this.rolesService.registerRoles(this.custonForm.value).pipe((0,d.W)(e=>{throw this.toastr.error("Rol no agregada"),console.log(e),new Error(e)})).subscribe(()=>{this.toastr.success("Rol agregado exitosamente"),this.custonForm.reset(),this.ngOnInit(),this.alertRef.close()})}handleGoToEditPage(e){console.log(e)}handleDeleteProduct(e){e&&R().fire({title:"Seguro de desea eliminar este rol?",text:"Los cambios no se podran revertir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar"}).then(i=>{i.isConfirmed&&this.rolesService.deleteRolesById(e).pipe((0,d.W)(r=>{throw this.toastr.error("Error al eliminar el rol"),new Error(r)})).subscribe(r=>{this.toastr.success("Rol eliminado correctamente"),this.ngOnInit()})})}getRoles(){this.rolesService.getRoles().pipe((0,d.W)(e=>(this.toastr.error("Error al cargar los datos"),(0,F.of)([])))).subscribe(e=>{console.log(e),this.rolesService.setRoles(e),this.roles=this.rolesService.roles,this.dataSource=new c.I6(this.roles),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(f.bZ),t.rXU(s.ok),t.rXU(yt),t.rXU(x.tw))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-roles-page"]],viewQuery:function(i,r){if(1&i&&(t.GBs(p.B4,5),t.GBs($t,5),t.GBs(_.iy,5)),2&i){let a;t.mGM(a=t.lsd())&&(r.sort=a.first),t.mGM(a=t.lsd())&&(r.alertForm=a.first),t.mGM(a=t.lsd())&&(r.paginator=a.first)}},decls:21,vars:5,consts:[["title","Gestionar Roles"],[1,"flex","justify-content-between","align-items-center"],["mat-raised-button","","color","primary",1,"my-3",3,"click"],[1,"mat-elevation-z2",2,"border-radius","8px","overflow","hidden","box-shadow","0px 4px 12px rgba(0, 0, 0, 0.1)"],["mat-table","","matSort","",2,"background-color","#f5f5f5","width","100%",3,"dataSource"],["mat-header-row","","style","background-color: #3f51b5; color: white;",4,"matHeaderRowDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","style","color: white; padding: 16px;",4,"matHeaderCellDef"],["mat-cell","","style","color: #333; padding: 16px;",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","accion"],["mat-cell","","style","padding: 16px;",4,"matCellDef"],["mat-row","",3,"ngStyle",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",2,"padding","16px",3,"pageSizeOptions"],["alertForm",""],["mat-header-row","",2,"background-color","#3f51b5","color","white"],["mat-header-cell","","mat-sort-header","",2,"color","white","padding","16px"],["mat-cell","",2,"color","#333","padding","16px"],["mat-cell","",2,"padding","16px"],["mat-icon-button","",3,"ngStyle","click"],["mat-row","",3,"ngStyle"],["title","Agregar Nuevo Rol"],["content",""],[3,"formGroup","submit"],[1,"w-full"],["matInput","","type","text","name","nombre","formControlName","nombre"],[1,"flex"],["mat-raised-button","","color","primary","type","submit"],[1,"mx-2"],["mat-raised-button","","color","accent","mat-dialog-close",""]],template:function(i,r){1&i&&(t.j41(0,"mat-card-content"),t.nrm(1,"app-card-header",0),t.j41(2,"div",1)(3,"button",2),t.bIt("click",function(){return r.openDialog()}),t.EFF(4," Agregar Rol "),t.k0s()(),t.j41(5,"div",3)(6,"table",4),t.DNE(7,Tt,1,0,"tr",5),t.qex(8,6),t.DNE(9,Pt,2,0,"th",7),t.DNE(10,Nt,2,1,"td",8),t.bVm(),t.qex(11,9),t.DNE(12,It,2,0,"th",7),t.DNE(13,Gt,2,1,"td",8),t.bVm(),t.qex(14,10),t.DNE(15,Mt,2,0,"th",7),t.DNE(16,Ht,8,4,"td",11),t.bVm(),t.DNE(17,At,1,3,"tr",12),t.k0s(),t.nrm(18,"mat-paginator",13),t.k0s()(),t.DNE(19,Yt,14,1,"ng-template",null,14,t.C5r)),2&i&&(t.R7$(6),t.Y8G("dataSource",r.dataSource),t.R7$(1),t.Y8G("matHeaderRowDef",r.displayedColumns),t.R7$(10),t.Y8G("matRowDefColumns",r.displayedColumns),t.R7$(1),t.Y8G("pageSizeOptions",t.lJ4(4,Ot)))},dependencies:[E.B3,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,u.$z,u.iY,C.m2,f.tx,h.rl,h.nJ,k.An,j.fg,_.iy,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,p.B4,p.aE,v,D]})}}return o})(),qt=(()=>{class o{constructor(e){this.http=e,this.APIURL=T.c.serverApi,this._horarios=[]}get horarios(){return this._horarios}setHorarios(e){this._horarios=e}getHorarios(){return this.http.get(`${this.APIURL}/horarios`)}getHorarioById(e){return this.http.get(`${this.APIURL}/horarios/${e}`)}registerHorario(e){return this.http.post(`${this.APIURL}/horarios`,e)}updateHorarioById(e,i){return this.http.put(`${this.APIURL}/horarios/${e}`,i)}deleteHorarioById(e){return this.http.delete(`${this.APIURL}/horarios/${e}`)}static{this.\u0275fac=function(i){return new(i||o)(t.KVO(w.Qq))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Lt=m(2010),S=m(5084);const Jt=["alertForm"],Wt=["alertFormFichas"];function zt(o,n){1&o&&t.nrm(0,"tr",18)}function Zt(o,n){1&o&&(t.j41(0,"th",19),t.EFF(1,"Id."),t.k0s())}function Qt(o,n){if(1&o&&(t.j41(0,"td",20),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.id)}}function Kt(o,n){1&o&&(t.j41(0,"th",19),t.EFF(1,"Especialidad"),t.k0s())}function te(o,n){if(1&o&&(t.j41(0,"td",20),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.medico.especialidad)}}function ee(o,n){1&o&&(t.j41(0,"th",19),t.EFF(1,"D\xeda"),t.k0s())}function oe(o,n){if(1&o&&(t.j41(0,"td",20),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.horario.dia.nombre)}}function ie(o,n){1&o&&(t.j41(0,"th",19),t.EFF(1,"Hora"),t.k0s())}function ne(o,n){if(1&o&&(t.j41(0,"td",20),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.Lme("",e.horario.hora_inicio," - ",e.horario.hora_fin,"")}}function re(o,n){1&o&&(t.j41(0,"th",19),t.EFF(1,"M\xe9dico"),t.k0s())}function ae(o,n){if(1&o&&(t.j41(0,"td",20),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.Lme("",e.medico.user.nombre," - ",e.medico.user.apellido,"")}}function se(o,n){1&o&&(t.j41(0,"th",19),t.EFF(1,"Acci\xf3n"),t.k0s())}function ce(o,n){if(1&o){const e=t.RV6();t.j41(0,"td",21)(1,"div")(2,"button",22),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.handleGoToEditPage(a.id))}),t.j41(3,"mat-icon"),t.EFF(4,"edit"),t.k0s()(),t.j41(5,"button",23),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.handleGoToCreateFicha(a.id))}),t.j41(6,"mat-icon"),t.EFF(7,"edit_document"),t.k0s()(),t.j41(8,"button",24),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.handleDeleteProduct(a.id))}),t.j41(9,"mat-icon"),t.EFF(10,"delete"),t.k0s()()()()}}const le=function(o){return{"background-color":o}};function me(o,n){1&o&&t.nrm(0,"tr",25),2&o&&t.Y8G("ngStyle",t.eq3(1,le,n.$implicit.id%2==0?"#e0f7fa":"#ffffff"))}function de(o,n){if(1&o&&(t.j41(0,"mat-option",40),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.Y8G("value",e.id),t.R7$(1),t.E5c(" ",e.dia.nombre," (",e.hora_inicio," - ",e.hora_fin,") ")}}function pe(o,n){if(1&o&&(t.j41(0,"mat-option",40),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.Y8G("value",e.id),t.R7$(1),t.JRh(e.nombre)}}function ue(o,n){if(1&o&&(t.j41(0,"mat-option",40),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.Y8G("value",e.id),t.R7$(1),t.E5c(" ",e.user.nombre," ",e.user.apellido," - ",e.especialidad," ")}}function he(o,n){if(1&o){const e=t.RV6();t.j41(0,"app-alert",26)(1,"mat-card-content",27)(2,"form",28),t.bIt("submit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.submitForm())}),t.j41(3,"div")(4,"mat-form-field",29)(5,"mat-label"),t.EFF(6,"Fecha"),t.k0s(),t.nrm(7,"input",30)(8,"mat-datepicker-toggle",31)(9,"mat-datepicker",null,32),t.k0s(),t.j41(11,"mat-form-field",29)(12,"mat-label"),t.EFF(13,"Hora - D\xeda"),t.k0s(),t.j41(14,"mat-select",33),t.DNE(15,de,2,4,"mat-option",34),t.k0s()(),t.j41(16,"mat-form-field",29)(17,"mat-label"),t.EFF(18,"Especialidad"),t.k0s(),t.j41(19,"mat-select",35),t.DNE(20,pe,2,2,"mat-option",34),t.k0s()(),t.j41(21,"mat-form-field",29)(22,"mat-label"),t.EFF(23,"M\xe9dico"),t.k0s(),t.j41(24,"mat-select",36),t.DNE(25,ue,2,4,"mat-option",34),t.k0s()()(),t.j41(26,"div",37)(27,"button",38),t.EFF(28," Registrar "),t.k0s(),t.j41(29,"button",39),t.EFF(30," Cancelar "),t.k0s()()()()()}if(2&o){const e=t.sdS(10),i=t.XpG();t.R7$(2),t.Y8G("formGroup",i.custonForm),t.R7$(5),t.Y8G("matDatepicker",e),t.R7$(1),t.Y8G("for",e),t.R7$(7),t.Y8G("ngForOf",i.horarios),t.R7$(5),t.Y8G("ngForOf",i.especialidades),t.R7$(5),t.Y8G("ngForOf",i.medicos)}}const fe=function(){return[5,10,20]};let ge=(()=>{class o{constructor(e,i,r,a,l,g,y,V){this.dialog=e,this.router=i,this.formBuilder=r,this.toastr=a,this.horarioService=l,this.especialidadService=g,this.medicosService=y,this.horariosEspecialidadesService=V,this.displayedColumns=["id","especialidad","dia","hora","medico","accion"],this.custonForm=this.formBuilder.group({fecha:[new Date,s.k0.required],medicoId:["",s.k0.required],horarioId:["",s.k0.required],especialidadId:["",s.k0.required]}),this.horarios=[],this.horarios_especialidades=[],this.medicos=[],this.especialidades=[],this.fechaControl=new s.MJ(new Date),this.getHorarios(),this.getEspecialidades(),this.getMedicos(),this.getHorariosEspecialidades()}ngOnInit(){this.getHorariosEspecialidades()}openDialog(){this.alertRef=this.dialog.open(this.alertForm)}openDialogFichas(e){this.alertRefFichas=this.dialog.open(this.alertForm)}fieldValidator(e){return this.custonForm.controls[`${e}`].errors&&this.custonForm.controls[`${e}`].touched}changeSelect(e){this.custonForm.patchValue({[`${e.target.name}`]:e.target.value})}submitForm(){this.custonForm.invalid?(this.custonForm.markAllAsTouched(),this.toastr.warning("Rellene los campos obligatorios")):this.horariosEspecialidadesService.registerHorarioEspecialidad(this.custonForm.value).pipe((0,d.W)(e=>{throw this.toastr.error("HorarioEspecialidad no agregada"),console.log(e),new Error(e)})).subscribe(e=>{this.toastr.success("Horario agregado exitosamente"),this.ngOnInit(),this.custonForm.reset(),this.alertRef.close()})}getEspecialidades(){this.especialidadService.getEspecialidades().pipe((0,d.W)(e=>(this.toastr.error("Error al cargar los datos"),(0,F.of)([])))).subscribe(e=>{console.log(e),this.especialidadService.setEspecialidades(e),this.especialidades=this.especialidadService.especialidades})}getHorarios(){this.horarioService.getHorarios().pipe((0,d.W)(e=>(this.toastr.error("Error al cargar los datos"),(0,F.of)([])))).subscribe(e=>{console.log(e),this.horarioService.setHorarios(e),this.horarios=this.horarioService.horarios})}getHorariosEspecialidades(){this.horariosEspecialidadesService.getHorariosEspecialidades().pipe((0,d.W)(e=>(this.toastr.error("Error al cargar los datos"),(0,F.of)([])))).subscribe(e=>{console.log(e),this.horariosEspecialidadesService.setHorariosEspecialidades(e),this.horarios_especialidades=this.horariosEspecialidadesService.horariosEspecialidades,this.dataSource=new c.I6(this.horarios_especialidades),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}getMedicos(){this.medicosService.getMedicos().pipe((0,d.W)(e=>(this.toastr.error("Error al cargar los datos"),(0,F.of)([])))).subscribe(e=>{console.log(e),this.medicosService.setMedicos(e),this.medicos=this.medicosService.medicos})}handleGoToEditPage(e){console.log(e)}handleGoToCreateFicha(e){this.router.navigate(["gestion/fichas",e])}handleDeleteProduct(e){e&&R().fire({title:"Seguro de desea eliminar el medico?",text:"Los cambios no se podran revertir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar"}).then(i=>{i.isConfirmed&&this.horarioService.getHorarioById(e).pipe((0,d.W)(r=>{throw this.toastr.error("Error al eliminar el medico"),new Error(r)})).subscribe(r=>{this.toastr.success("Medico eliminado correctamente"),this.ngOnInit()})})}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(f.bZ),t.rXU(b.Ix),t.rXU(s.ok),t.rXU(x.tw),t.rXU(qt),t.rXU($.W),t.rXU(N),t.rXU(Lt.x))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-horario-page"]],viewQuery:function(i,r){if(1&i&&(t.GBs(p.B4,5),t.GBs(Jt,5),t.GBs(Wt,5),t.GBs(_.iy,5)),2&i){let a;t.mGM(a=t.lsd())&&(r.sort=a.first),t.mGM(a=t.lsd())&&(r.alertForm=a.first),t.mGM(a=t.lsd())&&(r.alertFormFichas=a.first),t.mGM(a=t.lsd())&&(r.paginator=a.first)}},decls:30,vars:5,consts:[["title","Gestionar Horarios"],[1,"flex","justify-content-between","align-items-center"],["mat-raised-button","","color","primary",1,"my-3",3,"click"],[1,"mat-elevation-z2",2,"border-radius","8px","overflow","hidden","box-shadow","0px 4px 12px rgba(0, 0, 0, 0.1)"],["mat-table","","matSort","",2,"background-color","#f5f5f5","width","100%",3,"dataSource"],["mat-header-row","","style","background-color: #3f51b5; color: white;",4,"matHeaderRowDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","style","color: white; padding: 16px;",4,"matHeaderCellDef"],["mat-cell","","style","color: #333; padding: 16px;",4,"matCellDef"],["matColumnDef","especialidad"],["matColumnDef","dia"],["matColumnDef","hora"],["matColumnDef","medico"],["matColumnDef","accion"],["mat-cell","","style","padding: 16px;",4,"matCellDef"],["mat-row","",3,"ngStyle",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",2,"padding","16px",3,"pageSizeOptions"],["alertForm",""],["mat-header-row","",2,"background-color","#3f51b5","color","white"],["mat-header-cell","","mat-sort-header","",2,"color","white","padding","16px"],["mat-cell","",2,"color","#333","padding","16px"],["mat-cell","",2,"padding","16px"],["mat-icon-button","",2,"color","green",3,"click"],["mat-icon-button","",2,"color","blue",3,"click"],["mat-icon-button","",2,"color","red",3,"click"],["mat-row","",3,"ngStyle"],["title","Agregar Nuevo Horario M\xe9dico"],["content",""],[3,"formGroup","submit"],[1,"w-full"],["matInput","","name","fecha","formControlName","fecha",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["name","horarioId","formControlName","horarioId"],[3,"value",4,"ngFor","ngForOf"],["name","especialidadId","formControlName","especialidadId"],["name","medicoId","formControlName","medicoId"],[1,"flex",2,"display","flex","justify-content","flex-end","margin-top","16px"],["mat-raised-button","","type","submit",2,"background-color","#4CAF50","color","white","margin-right","8px"],["mat-raised-button","","mat-dialog-close","",2,"background-color","#f44336","color","white"],[3,"value"]],template:function(i,r){1&i&&(t.j41(0,"mat-card-content"),t.nrm(1,"app-card-header",0),t.j41(2,"div",1)(3,"button",2),t.bIt("click",function(){return r.openDialog()}),t.EFF(4," Agregar Horario "),t.k0s()(),t.j41(5,"div",3)(6,"table",4),t.DNE(7,zt,1,0,"tr",5),t.qex(8,6),t.DNE(9,Zt,2,0,"th",7),t.DNE(10,Qt,2,1,"td",8),t.bVm(),t.qex(11,9),t.DNE(12,Kt,2,0,"th",7),t.DNE(13,te,2,1,"td",8),t.bVm(),t.qex(14,10),t.DNE(15,ee,2,0,"th",7),t.DNE(16,oe,2,1,"td",8),t.bVm(),t.qex(17,11),t.DNE(18,ie,2,0,"th",7),t.DNE(19,ne,2,2,"td",8),t.bVm(),t.qex(20,12),t.DNE(21,re,2,0,"th",7),t.DNE(22,ae,2,2,"td",8),t.bVm(),t.qex(23,13),t.DNE(24,se,2,0,"th",7),t.DNE(25,ce,11,0,"td",14),t.bVm(),t.DNE(26,me,1,3,"tr",15),t.k0s(),t.nrm(27,"mat-paginator",16),t.k0s()(),t.DNE(28,he,31,6,"ng-template",null,17,t.C5r)),2&i&&(t.R7$(6),t.Y8G("dataSource",r.dataSource),t.R7$(1),t.Y8G("matHeaderRowDef",r.displayedColumns),t.R7$(19),t.Y8G("matRowDefColumns",r.displayedColumns),t.R7$(1),t.Y8G("pageSizeOptions",t.lJ4(4,fe)))},dependencies:[E.Sq,E.B3,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,G.wT,u.$z,u.iY,C.m2,f.tx,h.rl,h.nJ,h.yw,k.An,j.fg,M.VO,_.iy,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,p.B4,p.aE,S.Vh,S.bZ,S.bU,v,D],styles:[".small-input[_ngcontent-%COMP%]{font-size:.875rem;height:36px}.small-input[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:.5em}.small-input[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{height:36px}.small-input[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:0 8px}"]})}}return o})();var _e=m(936);const Fe=["alertFormFichas"];function be(o,n){1&o&&(t.j41(0,"th",24),t.EFF(1,"Id."),t.k0s())}function Ce(o,n){if(1&o&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.id)}}function Ee(o,n){1&o&&(t.j41(0,"th",24),t.EFF(1,"Fecha"),t.k0s())}function ke(o,n){if(1&o&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.fecha)}}function xe(o,n){1&o&&(t.j41(0,"th",24),t.EFF(1,"Especialidad"),t.k0s())}function ve(o,n){if(1&o&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.horarioEspecialidad.medico.especialidad)}}function je(o,n){1&o&&(t.j41(0,"th",24),t.EFF(1,"Cantidad"),t.k0s())}function Re(o,n){if(1&o&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.cantidad)}}function De(o,n){1&o&&(t.j41(0,"th",24),t.EFF(1,"Cantidad Vendidad"),t.k0s())}function Se(o,n){if(1&o&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.cantidadVendidad)}}function we(o,n){1&o&&(t.j41(0,"th",24),t.EFF(1,"Dia"),t.k0s())}function ye(o,n){if(1&o&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.horarioEspecialidad.horario.dia.nombre)}}function $e(o,n){1&o&&(t.j41(0,"th",24),t.EFF(1,"Hora"),t.k0s())}function Te(o,n){if(1&o&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.Lme("",e.horarioEspecialidad.horario.hora_inicio," - ",e.horarioEspecialidad.horario.hora_fin,"")}}function Pe(o,n){1&o&&(t.j41(0,"th",24),t.EFF(1,"Medico"),t.k0s())}function Ne(o,n){if(1&o&&(t.j41(0,"td",25),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.Lme("",e.horarioEspecialidad.medico.user.nombre," - ",e.horarioEspecialidad.medico.user.apellido,"")}}function Ie(o,n){1&o&&(t.j41(0,"th",24),t.EFF(1,"Acci\xf3n"),t.k0s())}function Ge(o,n){1&o&&(t.j41(0,"td",25)(1,"div")(2,"button",26)(3,"mat-icon"),t.EFF(4,"edit"),t.k0s()(),t.j41(5,"button",26)(6,"mat-icon"),t.EFF(7,"delete"),t.k0s()()()())}function Me(o,n){1&o&&t.nrm(0,"tr",27)}function Be(o,n){1&o&&t.nrm(0,"tr",28)}function Ve(o,n){if(1&o){const e=t.RV6();t.j41(0,"app-alert",29)(1,"mat-card-content",30)(2,"form",31),t.bIt("submit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.submitFormFichas())}),t.j41(3,"div")(4,"div")(5,"mat-form-field",32)(6,"mat-label"),t.EFF(7,"Fecha"),t.k0s(),t.nrm(8,"input",33)(9,"mat-datepicker-toggle",5)(10,"mat-datepicker",null,6),t.k0s()(),t.j41(12,"mat-form-field",32)(13,"mat-label"),t.EFF(14," Cantidad "),t.k0s(),t.nrm(15,"input",34),t.k0s()(),t.j41(16,"div",35)(17,"button",36),t.EFF(18," Registrar "),t.k0s(),t.nrm(19,"div",37),t.j41(20,"button",38),t.EFF(21," Cancelar "),t.k0s()()()()()}if(2&o){const e=t.sdS(11),i=t.XpG();t.R7$(2),t.Y8G("formGroup",i.custonFormFichas),t.R7$(6),t.Y8G("matDatepicker",e),t.R7$(1),t.Y8G("for",e)}}const He=function(){return[5,10,20]};let Ue=(()=>{class o{constructor(e,i,r,a,l,g){this.dialog=e,this.router=i,this.route=r,this.formBuilder=a,this.toastr=l,this.fichasService=g,this.id=null,this.fichas=[],this.displayedColumns=["id","fecha","especialidad","cantidad","cantidad_vendida","dia","hora","medico","accion"],this.fechaControl=new s.MJ(new Date),this.custonFormFichas=this.formBuilder.group({fecha:[new Date,s.k0.required],cantidad:["",s.k0.required],horarioEspecialidadId:["",s.k0.required]})}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.custonFormFichas.get("horarioEspecialidadId")?.setValue(this.id),this.getFichas()}openDialog(){this.alertRefFichas=this.dialog.open(this.alertFormFichas)}submitFormFichas(){this.custonFormFichas.invalid?(this.custonFormFichas.markAllAsTouched(),this.toastr.warning("Rellene los campos obligatorios")):this.fichasService.registerFichas(this.custonFormFichas.value).pipe((0,d.W)(e=>{throw this.toastr.error("HorarioEspecialidad no agregada"),console.log(e),new Error(e)})).subscribe(e=>{this.toastr.success("Horario agregado exitosamente"),this.ngOnInit(),this.custonFormFichas.reset(),this.alertRefFichas.close()})}getFichas(){this.fichasService.getAllFichasById(this.id).pipe((0,d.W)(e=>(this.toastr.error("Error al cargar los datos"),(0,F.of)([])))).subscribe(e=>{console.log(e),this.fichasService.setFichas(e),this.fichas=this.fichasService.fichas,this.dataSource=new c.I6(this.fichas),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(f.bZ),t.rXU(b.Ix),t.rXU(b.nX),t.rXU(s.ok),t.rXU(x.tw),t.rXU(_e.S))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-fichas"]],viewQuery:function(i,r){if(1&i&&(t.GBs(p.B4,5),t.GBs(Fe,5),t.GBs(_.iy,5)),2&i){let a;t.mGM(a=t.lsd())&&(r.sort=a.first),t.mGM(a=t.lsd())&&(r.alertFormFichas=a.first),t.mGM(a=t.lsd())&&(r.paginator=a.first)}},decls:49,vars:8,consts:[["title","Gestionar Fichas"],[1,"flex","justify-content-between","align-items-center"],["mat-raised-button","","color","primary",1,"my-3",3,"click"],["appearance","outline",1,"small-input"],["matInput","",3,"matDatepicker","formControl"],["matIconSuffix","",3,"for"],["picker",""],[1,"mat-elevation-z2"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fecha"],["matColumnDef","especialidad"],["matColumnDef","cantidad"],["matColumnDef","cantidad_vendida"],["matColumnDef","dia"],["matColumnDef","hora"],["matColumnDef","medico"],["matColumnDef","accion"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["alertFormFichas",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button",""],["mat-header-row",""],["mat-row",""],["title","Agregar Nueva Ficha"],["content",""],[3,"formGroup","submit"],[1,"w-full"],["matInput","","name","fecha","formControlName","fecha",3,"matDatepicker"],["matInput","","type","text","name","cantidad","formControlName","cantidad"],[1,"flex"],["mat-raised-button","","color","primary","type","submit"],[1,"mx-2"],["mat-raised-button","","color","accent","mat-dialog-close",""]],template:function(i,r){if(1&i&&(t.j41(0,"mat-card-content"),t.nrm(1,"app-card-header",0),t.j41(2,"div",1)(3,"button",2),t.bIt("click",function(){return r.openDialog()}),t.EFF(4," Agregar Ficha "),t.k0s(),t.j41(5,"div")(6,"mat-form-field",3),t.nrm(7,"input",4)(8,"mat-datepicker-toggle",5)(9,"mat-datepicker",null,6),t.k0s(),t.j41(11,"button",2),t.bIt("click",function(){return r.openDialog()}),t.EFF(12," Buscar "),t.j41(13,"mat-icon"),t.EFF(14,"search"),t.k0s()()()(),t.j41(15,"div",7)(16,"table",8),t.qex(17,9),t.DNE(18,be,2,0,"th",10),t.DNE(19,Ce,2,1,"td",11),t.bVm(),t.qex(20,12),t.DNE(21,Ee,2,0,"th",10),t.DNE(22,ke,2,1,"td",11),t.bVm(),t.qex(23,13),t.DNE(24,xe,2,0,"th",10),t.DNE(25,ve,2,1,"td",11),t.bVm(),t.qex(26,14),t.DNE(27,je,2,0,"th",10),t.DNE(28,Re,2,1,"td",11),t.bVm(),t.qex(29,15),t.DNE(30,De,2,0,"th",10),t.DNE(31,Se,2,1,"td",11),t.bVm(),t.qex(32,16),t.DNE(33,we,2,0,"th",10),t.DNE(34,ye,2,1,"td",11),t.bVm(),t.qex(35,17),t.DNE(36,$e,2,0,"th",10),t.DNE(37,Te,2,2,"td",11),t.bVm(),t.qex(38,18),t.DNE(39,Pe,2,0,"th",10),t.DNE(40,Ne,2,2,"td",11),t.bVm(),t.qex(41,19),t.DNE(42,Ie,2,0,"th",10),t.DNE(43,Ge,8,0,"td",11),t.bVm(),t.DNE(44,Me,1,0,"tr",20),t.DNE(45,Be,1,0,"tr",21),t.k0s(),t.nrm(46,"mat-paginator",22),t.k0s()(),t.DNE(47,Ve,22,3,"ng-template",null,23,t.C5r)),2&i){const a=t.sdS(10);t.R7$(7),t.Y8G("matDatepicker",a)("formControl",r.fechaControl),t.R7$(1),t.Y8G("for",a),t.R7$(8),t.Y8G("dataSource",r.dataSource),t.R7$(28),t.Y8G("matHeaderRowDef",r.displayedColumns),t.R7$(1),t.Y8G("matRowDefColumns",r.displayedColumns),t.R7$(1),t.Y8G("pageSizeOptions",t.lJ4(7,He))}},dependencies:[s.qT,s.me,s.BC,s.cb,s.l_,s.j4,s.JD,u.$z,u.iY,C.m2,f.tx,h.rl,h.nJ,h.yw,k.An,j.fg,_.iy,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,p.B4,p.aE,S.Vh,S.bZ,S.bU,v,D]})}}return o})();var B=m(8501),Ae=m(5911),Ye=m(105),P=m(9454);let Oe=(()=>{class o{constructor(){this.panelOpenState=!1}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-menusidebar"]],decls:38,vars:0,consts:[[3,"opened","closed"],["mat-button","","routerLink","/gestion/roles"],["mat-button","","routerLink","/gestion/pacientes"],["mat-button","","routerLink","/gestion/medicos"],["mat-button","","routerLink","/gestion/especialidades"],["mat-button","","routerLink","/gestion/horarios"],["mat-button","","routerLink","/gestion/citas"]],template:function(i,r){1&i&&(t.j41(0,"mat-accordion")(1,"mat-expansion-panel",0),t.bIt("opened",function(){return r.panelOpenState=!0})("closed",function(){return r.panelOpenState=!1}),t.j41(2,"mat-expansion-panel-header")(3,"mat-panel-title"),t.EFF(4," Gestionar Roles y Permisos "),t.k0s()(),t.j41(5,"mat-list")(6,"div")(7,"li")(8,"button",1),t.EFF(9," Gestionar Roles "),t.k0s()()()()(),t.j41(10,"mat-expansion-panel",0),t.bIt("opened",function(){return r.panelOpenState=!0})("closed",function(){return r.panelOpenState=!1}),t.j41(11,"mat-expansion-panel-header")(12,"mat-panel-title"),t.EFF(13," Gestionar Personal"),t.k0s()(),t.j41(14,"mat-list")(15,"div")(16,"li")(17,"button",2),t.EFF(18," Gestionar Pacientes "),t.k0s()(),t.j41(19,"li")(20,"button",3),t.EFF(21," Gestionar Medicos "),t.k0s()(),t.nrm(22,"li"),t.k0s()()(),t.j41(23,"mat-expansion-panel",0),t.bIt("opened",function(){return r.panelOpenState=!0})("closed",function(){return r.panelOpenState=!1}),t.j41(24,"mat-expansion-panel-header")(25,"mat-panel-title"),t.EFF(26," Gestionar Aspectos Medicos"),t.k0s()(),t.j41(27,"mat-list")(28,"div")(29,"li")(30,"button",4),t.EFF(31," Gestionar Especialidades M. "),t.k0s()(),t.j41(32,"li")(33,"button",5),t.EFF(34," Gestionar Horarios "),t.k0s()(),t.j41(35,"li")(36,"button",6),t.EFF(37," Gestionar Citas "),t.k0s()()()()()())},dependencies:[u.$z,Ye.jt,P.BS,P.GK,P.Z2,P.WN,b.Wk]})}}return o})();const Xe=[[["","routes",""]]],qe=["[routes]"];let Le=(()=>{class o{constructor(){this.isOpened=!0,this.options=[{label:"Inicio",icon:"home"},{label:"Perfil",icon:"person"},{label:"Configuraci\xf3n",icon:"settings"},{label:"Ayuda",icon:"help"},{label:"Cerrar sesi\xf3n",icon:"logout"}]}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-sidebar"]],ngContentSelectors:qe,decls:16,vars:1,consts:[[1,"h-container"],["mode","side",3,"opened","openedChange"],["drawer",""],[1,"my-5"],[1,"text-center","font-bold"],["color","primary"],["mat-icon-button","",3,"click"],[1,"content"]],template:function(i,r){if(1&i){const a=t.RV6();t.NAR(Xe),t.j41(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),t.bIt("openedChange",function(g){return r.isOpened=g}),t.j41(3,"div",3)(4,"p",4),t.EFF(5,"Historial Medico App"),t.k0s(),t.nrm(6,"app-menusidebar"),t.k0s()(),t.j41(7,"mat-sidenav-content")(8,"mat-toolbar",5)(9,"button",6),t.bIt("click",function(){t.eBV(a);const g=t.sdS(2);return t.Njj(g.toggle())}),t.j41(10,"mat-icon"),t.EFF(11,"menu"),t.k0s()(),t.j41(12,"span"),t.EFF(13,"Historial Medico App"),t.k0s()(),t.j41(14,"div",7),t.SdG(15),t.k0s()()()}2&i&&(t.R7$(1),t.Y8G("opened",r.isOpened))},dependencies:[u.iY,k.An,B.LG,B.US,B.El,Ae.KQ,Oe],styles:[".h-container[_ngcontent-%COMP%]{height:98vh}mat-sidenav[_ngcontent-%COMP%]{width:250px;background-color:#036;color:#fff;box-shadow:2px 0 5px #0000001a}.mat-toolbar[_ngcontent-%COMP%]{background-color:#036;color:#fff}.my-5[_ngcontent-%COMP%]{margin-top:20px}.text-center[_ngcontent-%COMP%]{text-align:center}.font-bold[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:#fff;margin-bottom:20px}button.mat-icon-button[_ngcontent-%COMP%]{color:#fff}.content[_ngcontent-%COMP%]{padding:16px}mat-sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 20px;color:#fff;text-decoration:none;font-size:16px;font-weight:500;transition:background-color .3s}mat-sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#00509e}mat-sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:10px}.mat-sidenav-container[_ngcontent-%COMP%]{background-color:#f4f6f9}"]})}}return o})(),Je=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-layout"]],decls:3,vars:0,consts:[[1,"w-full","flex"],[1,"w-full"],["routes",""]],template:function(i,r){1&i&&(t.j41(0,"div",0)(1,"app-sidebar",1),t.nrm(2,"router-outlet",2),t.k0s()())},dependencies:[b.n3,Le]})}}return o})();var We=m(2006);const ze=["alertForm"];function Ze(o,n){1&o&&t.nrm(0,"tr",20)}function Qe(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Id."),t.k0s())}function Ke(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.id)}}function to(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Nombre"),t.k0s())}function eo(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.user.nombre)}}function oo(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Apellido"),t.k0s())}function io(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.user.apellido)}}function no(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Ci"),t.k0s())}function ro(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.user.ci)}}function ao(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Telefono"),t.k0s())}function so(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.user.telefono)}}function co(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Direccion"),t.k0s())}function lo(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.user.direccion)}}function mo(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Genero"),t.k0s())}function po(o,n){if(1&o&&(t.j41(0,"td",22),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.user.genero)}}function uo(o,n){1&o&&(t.j41(0,"th",21),t.EFF(1,"Acci\xf3n"),t.k0s())}function ho(o,n){if(1&o){const e=t.RV6();t.j41(0,"td",23)(1,"div")(2,"button",24),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.handleGoToEditPage(a.id))}),t.j41(3,"mat-icon"),t.EFF(4,"edit"),t.k0s()(),t.j41(5,"button",25),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.handleGoToHistorialMedico(a.id,a.user.nombre,a.user.apellido))}),t.j41(6,"mat-icon"),t.EFF(7,"edit_document"),t.k0s()(),t.j41(8,"button",26),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.handleDeleteProduct(a.id))}),t.j41(9,"mat-icon"),t.EFF(10,"delete"),t.k0s()()()()}}const fo=function(o){return{"background-color":o}};function go(o,n){1&o&&t.nrm(0,"tr",27),2&o&&t.Y8G("ngStyle",t.eq3(1,fo,n.$implicit.id%2==0?"#e0f7fa":"#ffffff"))}function _o(o,n){if(1&o){const e=t.RV6();t.j41(0,"app-alert",28)(1,"mat-card-content",29)(2,"form",30),t.bIt("submit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.submitForm())}),t.j41(3,"div")(4,"mat-form-field",31)(5,"mat-label"),t.EFF(6,"Nombre"),t.k0s(),t.nrm(7,"input",32),t.k0s(),t.j41(8,"mat-form-field",31)(9,"mat-label"),t.EFF(10,"Apellido"),t.k0s(),t.nrm(11,"input",33),t.k0s(),t.j41(12,"mat-form-field",31)(13,"mat-label"),t.EFF(14,"CI"),t.k0s(),t.nrm(15,"input",34),t.k0s(),t.j41(16,"mat-form-field",31)(17,"mat-label"),t.EFF(18,"Tel\xe9fono"),t.k0s(),t.nrm(19,"input",35),t.k0s(),t.j41(20,"mat-form-field",31)(21,"mat-label"),t.EFF(22,"Direcci\xf3n"),t.k0s(),t.nrm(23,"input",36),t.k0s(),t.j41(24,"mat-form-field",31)(25,"mat-label"),t.EFF(26,"G\xe9nero"),t.k0s(),t.j41(27,"mat-select",37)(28,"mat-option",38),t.EFF(29,"Hombre"),t.k0s(),t.j41(30,"mat-option",39),t.EFF(31,"Mujer"),t.k0s()()(),t.j41(32,"mat-form-field",31)(33,"mat-label"),t.EFF(34,"Correo"),t.k0s(),t.nrm(35,"input",40),t.k0s(),t.j41(36,"mat-form-field",31)(37,"mat-label"),t.EFF(38,"Contrase\xf1a"),t.k0s(),t.nrm(39,"input",41),t.k0s()(),t.j41(40,"div",42)(41,"button",43),t.EFF(42," Registrar "),t.k0s(),t.j41(43,"button",44),t.EFF(44," Cancelar "),t.k0s()()()()()}if(2&o){const e=t.XpG();t.R7$(2),t.Y8G("formGroup",e.custonForm)}}const Fo=function(){return[5,10,20]};let bo=(()=>{class o{constructor(e,i,r,a,l,g,y){this.dialog=e,this.formBuilder=i,this.pacientesServices=r,this.toastr=a,this.especialidadService=l,this.usersServices=g,this.router=y,this.displayedColumns=["id","nombre","apellido","ci","telefono","direccion","genero","accion"],this.custonForm=this.formBuilder.group({nombre:["",s.k0.required],apellido:["",s.k0.required],ci:["",s.k0.required],telefono:["",s.k0.required],direccion:["",s.k0.required],genero:["",s.k0.required],email:["",s.k0.required],password:["",s.k0.required],tipo:["Paciente",s.k0.required]}),this.pacientes=[],this.especialidades=[],this.getPacientes()}ngOnInit(){this.getPacientes()}openDialog(){this.alertRef=this.dialog.open(this.alertForm)}fieldValidator(e){return this.custonForm.controls[`${e}`].errors&&this.custonForm.controls[`${e}`].touched}changeSelect(e){}submitForm(){if(this.custonForm.invalid)this.custonForm.markAllAsTouched(),this.toastr.warning("Rellene los campos obligatorios");else{const e={nombre:this.custonForm.get("nombre")?.value,apellido:this.custonForm.get("apellido")?.value,ci:this.custonForm.get("ci")?.value,email:this.custonForm.get("email")?.value,telefono:this.custonForm.get("telefono")?.value,direccion:this.custonForm.get("direccion")?.value,password:this.custonForm.get("password")?.value,genero:this.custonForm.get("genero")?.value};this.usersServices.registerUsers(e).pipe((0,d.W)(i=>{throw this.toastr.error("Usuario no agregado"),console.log(i),new Error(i)})).subscribe(i=>{const r={tipo:this.custonForm.get("tipo")?.value,userId:i.id};this.pacientesServices.registerPacientes(r).pipe((0,d.W)(a=>{throw this.toastr.error("Paciente no agregado"),console.log(a),new Error(a)})).subscribe(a=>{this.toastr.success("Paciente agregado exitosamente"),this.ngOnInit(),this.custonForm.reset(),this.alertRef.close()})})}}getPacientes(){this.pacientesServices.getPacientes().pipe((0,d.W)(e=>(this.toastr.error("Error al cargar los datos"),(0,F.of)([])))).subscribe(e=>{console.log(e),this.pacientesServices.setPacientes(e),this.pacientes=this.pacientesServices.pacientes,this.dataSource=new c.I6(this.pacientes),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}handleGoToEditPage(e){console.log(e)}handleGoToHistorialMedico(e,i,r){console.log(e),this.router.navigate(["/gestion/historial-medico",e],{queryParams:{nombre:i+" "+r}})}handleDeleteProduct(e){e&&R().fire({title:"Seguro de desea eliminar el paciente?",text:"Los cambios no se podran revertir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar"}).then(i=>{i.isConfirmed&&this.pacientesServices.deletePacientesById(e).pipe((0,d.W)(r=>{throw this.toastr.error("Error al eliminar el paciente"),new Error(r)})).subscribe(r=>{this.toastr.success("Paciente eliminado correctamente"),this.ngOnInit()})})}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(f.bZ),t.rXU(s.ok),t.rXU(We.W),t.rXU(x.tw),t.rXU($.W),t.rXU(I.g),t.rXU(b.Ix))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-pacientes"]],viewQuery:function(i,r){if(1&i&&(t.GBs(p.B4,5),t.GBs(ze,5),t.GBs(_.iy,5)),2&i){let a;t.mGM(a=t.lsd())&&(r.sort=a.first),t.mGM(a=t.lsd())&&(r.alertForm=a.first),t.mGM(a=t.lsd())&&(r.paginator=a.first)}},decls:36,vars:5,consts:[["title","Gestionar Pacientes"],[1,"flex","justify-content-between","align-items-center"],["mat-raised-button","","color","primary",1,"my-3",3,"click"],[1,"mat-elevation-z2",2,"border-radius","8px","overflow","hidden","box-shadow","0px 4px 12px rgba(0, 0, 0, 0.1)"],["mat-table","","matSort","",2,"background-color","#f5f5f5","width","100%",3,"dataSource"],["mat-header-row","","style","background-color: #3f51b5; color: white;",4,"matHeaderRowDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","style","color: white; padding: 16px;",4,"matHeaderCellDef"],["mat-cell","","style","color: #333; padding: 16px;",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","apellido"],["matColumnDef","ci"],["matColumnDef","telefono"],["matColumnDef","direccion"],["matColumnDef","genero"],["matColumnDef","accion"],["mat-cell","","style","padding: 16px;",4,"matCellDef"],["mat-row","",3,"ngStyle",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",2,"padding","16px",3,"pageSizeOptions"],["alertForm",""],["mat-header-row","",2,"background-color","#3f51b5","color","white"],["mat-header-cell","","mat-sort-header","",2,"color","white","padding","16px"],["mat-cell","",2,"color","#333","padding","16px"],["mat-cell","",2,"padding","16px"],["mat-icon-button","",2,"color","green",3,"click"],["mat-icon-button","",2,"color","blue",3,"click"],["mat-icon-button","",2,"color","red",3,"click"],["mat-row","",3,"ngStyle"],["title","Agregar Nuevo Paciente"],["content",""],[3,"formGroup","submit"],[1,"w-full"],["matInput","","type","text","name","nombre","formControlName","nombre"],["matInput","","type","text","name","apellido","formControlName","apellido"],["matInput","","type","text","name","ci","formControlName","ci"],["matInput","","type","text","name","telefono","formControlName","telefono"],["matInput","","type","text","name","direccion","formControlName","direccion"],["name","genero","formControlName","genero"],["value","M"],["value","F"],["matInput","","type","email","name","email","formControlName","email"],["matInput","","type","password","name","password","formControlName","password"],[1,"flex",2,"display","flex","justify-content","flex-end","margin-top","16px"],["mat-raised-button","","type","submit",2,"background-color","#4CAF50","color","white","margin-right","8px"],["mat-raised-button","","mat-dialog-close","",2,"background-color","#f44336","color","white"]],template:function(i,r){1&i&&(t.j41(0,"mat-card-content"),t.nrm(1,"app-card-header",0),t.j41(2,"div",1)(3,"button",2),t.bIt("click",function(){return r.openDialog()}),t.EFF(4," Agregar Paciente "),t.k0s()(),t.j41(5,"div",3)(6,"table",4),t.DNE(7,Ze,1,0,"tr",5),t.qex(8,6),t.DNE(9,Qe,2,0,"th",7),t.DNE(10,Ke,2,1,"td",8),t.bVm(),t.qex(11,9),t.DNE(12,to,2,0,"th",7),t.DNE(13,eo,2,1,"td",8),t.bVm(),t.qex(14,10),t.DNE(15,oo,2,0,"th",7),t.DNE(16,io,2,1,"td",8),t.bVm(),t.qex(17,11),t.DNE(18,no,2,0,"th",7),t.DNE(19,ro,2,1,"td",8),t.bVm(),t.qex(20,12),t.DNE(21,ao,2,0,"th",7),t.DNE(22,so,2,1,"td",8),t.bVm(),t.qex(23,13),t.DNE(24,co,2,0,"th",7),t.DNE(25,lo,2,1,"td",8),t.bVm(),t.qex(26,14),t.DNE(27,mo,2,0,"th",7),t.DNE(28,po,2,1,"td",8),t.bVm(),t.qex(29,15),t.DNE(30,uo,2,0,"th",7),t.DNE(31,ho,11,0,"td",16),t.bVm(),t.DNE(32,go,1,3,"tr",17),t.k0s(),t.nrm(33,"mat-paginator",18),t.k0s()(),t.DNE(34,_o,45,1,"ng-template",null,19,t.C5r)),2&i&&(t.R7$(6),t.Y8G("dataSource",r.dataSource),t.R7$(1),t.Y8G("matHeaderRowDef",r.displayedColumns),t.R7$(25),t.Y8G("matRowDefColumns",r.displayedColumns),t.R7$(1),t.Y8G("pageSizeOptions",t.lJ4(4,Fo)))},dependencies:[E.B3,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,G.wT,u.$z,u.iY,C.m2,f.tx,h.rl,h.nJ,k.An,j.fg,M.VO,_.iy,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,p.B4,p.aE,v,D]})}}return o})();var Co=m(3767),Eo=m(6422);const ko=["alertForm"];function xo(o,n){1&o&&t.nrm(0,"tr",17)}function vo(o,n){1&o&&(t.j41(0,"th",18),t.EFF(1,"Id."),t.k0s())}function jo(o,n){if(1&o&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.JRh(e.id)}}function Ro(o,n){1&o&&(t.j41(0,"th",18),t.EFF(1,"Fecha"),t.k0s())}function Do(o,n){if(1&o&&(t.j41(0,"td",19),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.SpI(" ",t.i5U(2,1,e.ficha.fecha,"dd/MM/yyyy")," ")}}function So(o,n){1&o&&(t.j41(0,"th",18),t.EFF(1,"Especialidad"),t.k0s())}function wo(o,n){if(1&o&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.SpI(" ",e.ficha.horarioEspecialidad.especialidad.nombre," ")}}function yo(o,n){1&o&&(t.j41(0,"th",18),t.EFF(1,"Hora Inicio"),t.k0s())}function $o(o,n){if(1&o&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.SpI(" ",e.ficha.horarioEspecialidad.horario.hora_inicio," ")}}function To(o,n){1&o&&(t.j41(0,"th",18),t.EFF(1,"Hora Fin"),t.k0s())}function Po(o,n){if(1&o&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.SpI(" ",e.ficha.horarioEspecialidad.horario.hora_fin," ")}}function No(o,n){1&o&&(t.j41(0,"th",18),t.EFF(1,"Nombre"),t.k0s())}function Io(o,n){if(1&o&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.SpI(" ",e.paciente.user.nombre," ")}}function Go(o,n){1&o&&(t.j41(0,"th",18),t.EFF(1,"Apellido"),t.k0s())}function Mo(o,n){if(1&o&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&o){const e=n.$implicit;t.R7$(1),t.SpI(" ",e.paciente.user.apellido," ")}}function Bo(o,n){1&o&&(t.j41(0,"th",18),t.EFF(1,"Acci\xf3n"),t.k0s())}function Vo(o,n){if(1&o){const e=t.RV6();t.j41(0,"td",20)(1,"div")(2,"button",21),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.handleGoToHistorialMedico(a.paciente.user.id,a.paciente.user.nombre,a.paciente.user.apellido))}),t.j41(3,"mat-icon"),t.EFF(4,"edit"),t.k0s()()()()}}const Ho=function(o){return{"background-color":o}};function Uo(o,n){1&o&&t.nrm(0,"tr",22),2&o&&t.Y8G("ngStyle",t.eq3(1,Ho,n.$implicit.id%2==0?"#e0f7fa":"#ffffff"))}const Ao=function(){return[5,10,20]};let Yo=(()=>{class o{constructor(e,i,r,a,l,g,y,V){this.dialog=e,this.formBuilder=i,this.medicosService=r,this.toastr=a,this.authService=l,this.citasService=g,this.usersServices=y,this.router=V,this.displayedColumns=["id","fecha","nombre","hora_inicio","hora_fin","name","apellido","accion"],this.title="Citas Medicas: ",this.custonForm=this.formBuilder.group({nombre:["",s.k0.required],apellido:["",s.k0.required],ci:["",s.k0.required],telefono:["",s.k0.required],direccion:["",s.k0.required],genero:["",s.k0.required],email:["",s.k0.required],password:["",s.k0.required],especialidad:["",s.k0.required],tipo:["Medico",s.k0.required]}),this.citas=[],this.isAuthenticated=!1,this.userNameInitial=""}ngOnInit(){this.isAuthenticated=this.authService.isLoggedIn(),this.userNameInitial=this.authService.getUser(),this.title=this.title+" "+this.userNameInitial.nombre+" "+this.userNameInitial.apellido,this.getCitasMedicos(this.userNameInitial.id)}openDialog(){this.alertRef=this.dialog.open(this.alertForm)}fieldValidator(e){return this.custonForm.controls[`${e}`].errors&&this.custonForm.controls[`${e}`].touched}changeSelect(e){}submitForm(){if(this.custonForm.invalid)this.custonForm.markAllAsTouched(),this.toastr.warning("Rellene los campos obligatorios");else{const e={nombre:this.custonForm.get("nombre")?.value,apellido:this.custonForm.get("apellido")?.value,ci:this.custonForm.get("ci")?.value,email:this.custonForm.get("email")?.value,telefono:this.custonForm.get("telefono")?.value,direccion:this.custonForm.get("direccion")?.value,password:this.custonForm.get("password")?.value,genero:this.custonForm.get("genero")?.value,rolId:2};this.usersServices.registerUsers(e).pipe((0,d.W)(i=>{throw this.toastr.error("Usuario no agregada"),console.log(i),new Error(i)})).subscribe(i=>{const r={especialidad:this.custonForm.get("especialidad")?.value,tipo:this.custonForm.get("tipo")?.value,userId:i.id};this.medicosService.registerMedicos(r).pipe((0,d.W)(a=>{throw this.toastr.error("Medico no agregado"),console.log(a),new Error(a)})).subscribe(a=>{this.toastr.success("Medico agregado exitosamente"),this.ngOnInit(),this.custonForm.reset(),this.alertRef.close()})})}}getCitasMedicos(e){this.citasService.getAllByMedicoId(e).pipe((0,d.W)(i=>(this.toastr.error("Error al cargar los datos"),(0,F.of)([])))).subscribe(i=>{console.log(i),this.citas=i,this.dataSource=new c.I6(this.citas),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}handleGoToHistorialMedico(e,i,r){console.log(e),this.router.navigate(["/gestion/historial-medico",e],{queryParams:{nombre:i+" "+r}})}handleDeleteProduct(e){e&&R().fire({title:"Seguro de desea eliminar el medico?",text:"Los cambios no se podran revertir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar"}).then(i=>{i.isConfirmed&&this.medicosService.deleteMedicosById(e).pipe((0,d.W)(r=>{throw this.toastr.error("Error al eliminar el medico"),new Error(r)})).subscribe(r=>{this.toastr.success("Medico eliminado correctamente"),this.ngOnInit()})})}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(f.bZ),t.rXU(s.ok),t.rXU(N),t.rXU(x.tw),t.rXU(Co.u),t.rXU(Eo.i),t.rXU(I.g),t.rXU(b.Ix))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-citas-medicas-page"]],viewQuery:function(i,r){if(1&i&&(t.GBs(p.B4,5),t.GBs(ko,5),t.GBs(_.iy,5)),2&i){let a;t.mGM(a=t.lsd())&&(r.sort=a.first),t.mGM(a=t.lsd())&&(r.alertForm=a.first),t.mGM(a=t.lsd())&&(r.paginator=a.first)}},decls:31,vars:6,consts:[[3,"title"],[1,"mat-elevation-z2",2,"border-radius","8px","overflow","hidden","box-shadow","0px 4px 12px rgba(0, 0, 0, 0.1)"],["mat-table","","matSort","",2,"background-color","#f5f5f5","width","100%",3,"dataSource"],["mat-header-row","","style","background-color: #3f51b5; color: white;",4,"matHeaderRowDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","style","color: white; padding: 16px;",4,"matHeaderCellDef"],["mat-cell","","style","color: #333; padding: 16px;",4,"matCellDef"],["matColumnDef","fecha"],["matColumnDef","nombre"],["matColumnDef","hora_inicio"],["matColumnDef","hora_fin"],["matColumnDef","name"],["matColumnDef","apellido"],["matColumnDef","accion"],["mat-cell","","style","padding: 16px;",4,"matCellDef"],["mat-row","",3,"ngStyle",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",2,"padding","16px",3,"pageSizeOptions"],["mat-header-row","",2,"background-color","#3f51b5","color","white"],["mat-header-cell","","mat-sort-header","",2,"color","white","padding","16px"],["mat-cell","",2,"color","#333","padding","16px"],["mat-cell","",2,"padding","16px"],["mat-icon-button","",2,"color","green",3,"click"],["mat-row","",3,"ngStyle"]],template:function(i,r){1&i&&(t.j41(0,"mat-card-content"),t.nrm(1,"app-card-header",0),t.j41(2,"div",1)(3,"table",2),t.DNE(4,xo,1,0,"tr",3),t.qex(5,4),t.DNE(6,vo,2,0,"th",5),t.DNE(7,jo,2,1,"td",6),t.bVm(),t.qex(8,7),t.DNE(9,Ro,2,0,"th",5),t.DNE(10,Do,3,4,"td",6),t.bVm(),t.qex(11,8),t.DNE(12,So,2,0,"th",5),t.DNE(13,wo,2,1,"td",6),t.bVm(),t.qex(14,9),t.DNE(15,yo,2,0,"th",5),t.DNE(16,$o,2,1,"td",6),t.bVm(),t.qex(17,10),t.DNE(18,To,2,0,"th",5),t.DNE(19,Po,2,1,"td",6),t.bVm(),t.qex(20,11),t.DNE(21,No,2,0,"th",5),t.DNE(22,Io,2,1,"td",6),t.bVm(),t.qex(23,12),t.DNE(24,Go,2,0,"th",5),t.DNE(25,Mo,2,1,"td",6),t.bVm(),t.qex(26,13),t.DNE(27,Bo,2,0,"th",5),t.DNE(28,Vo,5,0,"td",14),t.bVm(),t.DNE(29,Uo,1,3,"tr",15),t.k0s(),t.nrm(30,"mat-paginator",16),t.k0s()()),2&i&&(t.R7$(1),t.Y8G("title",r.title),t.R7$(2),t.Y8G("dataSource",r.dataSource),t.R7$(1),t.Y8G("matHeaderRowDef",r.displayedColumns),t.R7$(25),t.Y8G("matRowDefColumns",r.displayedColumns),t.R7$(1),t.Y8G("pageSizeOptions",t.lJ4(5,Ao)))},dependencies:[E.B3,u.iY,C.m2,k.An,_.iy,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,p.B4,p.aE,v,E.vh]})}}return o})(),Oo=(()=>{class o{constructor(e){this.http=e,this.APIURL=T.c.serverApi,this._historiales=[]}get historiales(){return this._historiales}sethistoriales(e){this._historiales=e}gethistoriales(){return this.http.get(`${this.APIURL}/historiales`)}getHistorialPacienteById(e){return this.http.get(`${this.APIURL}/historiales/paciente/${e}`)}getHistorialesById(e){return this.http.get(`${this.APIURL}/historiales/${e}`)}registerHistoriales(e){return this.http.post(`${this.APIURL}/historiales`,e)}updateHistorialesById(e,i){return this.http.put(`${this.APIURL}/historiales/${e}`,i)}deleteHistorialesById(e){return this.http.delete(`${this.APIURL}/historiales/${e}`)}static{this.\u0275fac=function(i){return new(i||o)(t.KVO(w.Qq))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const Xo=[{path:"",component:Je,children:[{path:"especialidades",component:it},{path:"medicos",component:wt},{path:"pacientes",component:bo},{path:"roles",component:Xt},{path:"horarios",component:ge},{path:"citas",component:Yo},{path:"historial-medico/:id",component:(()=>{class o{constructor(e,i,r,a,l,g){this.router=e,this.route=i,this.location=r,this.formBuilder=a,this.toastr=l,this.historialesService=g,this.id=null,this.historialMedico=null,this.nombre="Historial Medica:",this.fechaControl=new s.MJ(new Date),this.custonFormFichas=this.formBuilder.group({title:["",s.k0.required],description:["",s.k0.required],pacienteId:["",s.k0.required]})}ngOnInit(){this.route.queryParams.subscribe(e=>{this.nombre="Historial Medico: "+e.nombre}),this.id=this.route.snapshot.paramMap.get("id"),this.custonFormFichas.get("pacienteId")?.setValue(this.id),this.getHistorialMedico()}submitFormFichas(){this.custonFormFichas.invalid?(this.custonFormFichas.markAllAsTouched(),this.toastr.warning("Rellene los campos obligatorios")):this.historialesService.registerHistoriales(this.custonFormFichas.value).pipe((0,d.W)(e=>{throw this.toastr.error("Historial Medico no agregada"),console.log(e),new Error(e)})).subscribe(e=>{this.toastr.success("Historial Medico agregado exitosamente"),this.ngOnInit(),this.getHistorialMedico(),this.custonFormFichas.reset()})}getHistorialMedico(){this.historialesService.getHistorialPacienteById(this.id).pipe((0,d.W)(e=>(this.toastr.warning("El paciente no tiene historial medico"),(0,F.of)([])))).subscribe(e=>{console.log(e),this.historialMedico=e,null!==this.historialMedico&&this.custonFormFichas.patchValue({title:this.historialMedico.title,description:this.historialMedico.description,pacienteId:this.historialMedico.paciente.id})})}volverAtras(){this.location.back()}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(b.Ix),t.rXU(b.nX),t.rXU(E.aZ),t.rXU(s.ok),t.rXU(x.tw),t.rXU(Oo))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-historial-medico-page"]],decls:23,vars:2,consts:[[3,"title"],[1,"w-6",2,"padding","24px","border-radius","8px","box-shadow","0px 4px 12px rgba(0, 0, 0, 0.1)"],[1,"w-9","mt-3",3,"formGroup","submit"],[2,"margin-bottom","16px"],["appearance","outline",1,"w-full",2,"border-radius","8px"],["matInput","","type","text","name","title","formControlName","title"],["appearance","outline",1,"w-full",2,"border-radius","8px","margin-top","16px"],["matInput","","name","description","formControlName","description","type","text","rows","4","cols","50"],[1,"flex",2,"display","flex","justify-content","flex-end","margin-top","24px"],["mat-raised-button","","type","submit",2,"background-color","#4CAF50","color","white","margin-right","8px","display","flex","align-items","center"],[2,"margin-right","4px"],["mat-raised-button","","type","button",2,"background-color","#f44336","color","white","display","flex","align-items","center",3,"click"]],template:function(i,r){1&i&&(t.j41(0,"mat-card-content"),t.nrm(1,"app-card-header",0),t.k0s(),t.j41(2,"mat-card-content",1)(3,"form",2),t.bIt("submit",function(){return r.submitFormFichas()}),t.j41(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),t.EFF(7,"Title"),t.k0s(),t.nrm(8,"input",5),t.k0s(),t.j41(9,"mat-form-field",6)(10,"mat-label"),t.EFF(11,"Detalle"),t.k0s(),t.j41(12,"textarea",7),t.EFF(13,"        "),t.k0s()()(),t.j41(14,"div",8)(15,"button",9)(16,"mat-icon",10),t.EFF(17,"check_circle"),t.k0s(),t.EFF(18," Registrar "),t.k0s(),t.j41(19,"button",11),t.bIt("click",function(){return r.volverAtras()}),t.j41(20,"mat-icon",10),t.EFF(21,"cancel"),t.k0s(),t.EFF(22," Cancelar "),t.k0s()()()()),2&i&&(t.R7$(1),t.Y8G("title",r.nombre),t.R7$(2),t.Y8G("formGroup",r.custonFormFichas))},dependencies:[s.qT,s.me,s.BC,s.cb,s.j4,s.JD,u.$z,C.m2,h.rl,h.nJ,k.An,j.fg,v]})}}return o})()},{path:"fichas/:id",component:Ue},{path:"**",redirectTo:"especialidades"}]}];let qo=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[b.iI.forChild(Xo),b.iI]})}}return o})();var Lo=m(232);let Jo=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[E.MD,w.q1,s.X1,qo,Lo.G]})}}return o})()}}]);